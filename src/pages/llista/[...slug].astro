---
import { CollectionEntry, getCollection } from "astro:content";
import Main from "@src/layouts/Main.astro";

export async function getStaticPaths() {
  const members = await getCollection("member");
  return members.map((member) => ({
    params: { slug: member.slug },
    props: member,
  }));
}
type Props = CollectionEntry<"member">;

const member = Astro.props;
let { image, title, number, description } = member.data;
description = description.replace(/(?:\r\n|\r|\n)/g, "<br>");
---

<Main {...member.data}>
  <section class="col wfull">
    <img src={image} alt={title} />
    <h1>{title}</h1>
    <small>{number}</small>
    <p>
      <Fragment set:html={description} />
    </p>
  </section>
</Main>

<style>
  section {
    max-width: var(--media-lg);
    gap: 2em;
    padding: 4em 1em;

    @media (max-width: 720px) {
      padding: 2em 1em;
    }
  }
</style>
